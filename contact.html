<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Specifies character encoding, viewport settings for responsiveness, page title, and links CSS stylesheet -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contact - Tabitha Hannas</title>
  <link rel="stylesheet" href="contact.css" />
</head>
<body>

<!-- Header section containing site title and live date/time display -->
<header>
  <div class="header-content">
    <div class="site-title">Tabitha Hannas's Portfolio</div>
    <div id="currentDateTime"></div>
  </div>
</header>

<!-- Main section with heading and contact form -->
<main>
  <h1>Send me questions!</h1>

  <!-- Message displayed after data submission -->
  <div id="saveMessage" style="display:none; margin-bottom:15px; color: green;">Your data has been sent! Thank you!</div>
  
  <!-- Contact form for user input -->
  <form id="contactForm" class="contact-form">
    <!-- Name input group -->
    <div class="form-group">
      <label for="name">Your name:</label>
      <input type="text" id="name" class="form-input" placeholder=" " required />
    </div>
    <!-- Email input group -->
    <div class="form-group">
      <label for="email">Your email:</label>
      <input type="email" id="email" class="form-input" placeholder=" " required />
    </div>
    <!-- Message textarea input group -->
    <div class="form-group">
      <label for="message">Your message:</label>
      <textarea id="message" class="form-input" placeholder=" " required></textarea>
    </div>
    <!-- Buttons: submit and back to home -->
    <div class="form-actions">
      <button type="submit" class="submit-btn">Submit</button>
      <a href="index.html" class="back-link">Back to home</a>
    </div>
  </form>
</main>

<!-- Footer with contact info and copyright -->
<footer>
  <div class="footer-content">
    <div class="contact-info">
      Contact: <a href="mailto:tabitha.hannas@ontariotechu.net">tabitha.hannas@ontariotechu.net</a>
    </div>
    <div class="copyright">Â© 2025 Tabitha Hannas</div>
  </div>
</footer>

<!-- JavaScript for live date/time update and form data saving as a text file -->
<script>
  // Function to update date/time every second
  function updateDateTime() {
    const now = new Date();
    const options = { 
      year: 'numeric',
      month: '2-digit',
      day: '2-digit',
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit',
      hour12: true
    };
    // Sets the current date/time in the designated element
    document.getElementById('currentDateTime').textContent = now.toLocaleString('en-US', options);
  }
  // Initial call to set date/time on page load
  updateDateTime();
  // Schedule update every second
  setInterval(updateDateTime, 1000);

  // Handle form submit event
  document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault(); // Prevent default form submission

    // Get form input values
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const message = document.getElementById('message').value;

    // Prepare data string for file
    const data = `Contact Submission\n\nName: ${name}\nEmail: ${email}\nMessage: ${message}\n\nSubmitted on: ${new Date().toLocaleString()}`;

    // Create a Blob with the data
    const blob = new Blob([data], {type: 'text/plain'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');

    // Set href and filename for download
    a.href = url;
    a.download = `contact_${name.replace(/\s+/g,"_")}_${Date.now()}.txt`;
    a.click(); // Initiate download

    // Release the URL object
    URL.revokeObjectURL(url);

    // Show success message
    document.getElementById('saveMessage').style.display = 'block';

    // Reset form fields
    document.getElementById('contactForm').reset();
   
    // Hide message after 5 seconds
    setTimeout(() => {
      document.getElementById('saveMessage').style.display = 'none';
    }, 5000);
  });
</script>
